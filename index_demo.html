<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>River Monitoring System</title>

    <link rel="stylesheet" href="css/style.css" />

    <link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css" />
    <script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>

    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    
    <script src="js/lang.js"></script>
</head>
<body>

    <nav class="navbar">
        <div class="nav-container">
            <a href="index.html" class="logo">SERABI</a>
            
            <ul class="nav-links">
                <li><a href="index.html" class="active" data-i18n="nav_home">Beranda</a></li>
                <li><a href="learn_more.html" data-i18n="nav_learn">Pelajari Selengkapnya</a></li>
                <li><a href="public_dashboard.html" data-i18n="nav_dash">Dasbor Publik</a></li>
                <li><a href="visualization.html" data-i18n="nav_vis">Visualisasi</a></li>
                <li><a href="login.html" class="btn-login" data-i18n="nav_login">Login</a></li>
                <li><button id="lang-toggle" class="lang-btn">EN</button></li>
            </ul>
        </div>
    </nav>
    <div class="dashboard-container">
        
        <header class="hero-section">
            <div class="hero-content">
                <h1 data-i18n="hero_title">Sistem Estimasi Debit Air Sungai Berbasis Radar untuk Mendukung Mitigasi Dini Banjir</h1>
                <p data-i18n="hero_desc">Monitoring kecepatan arus dan debit sungai berbasis radar & IoT.</p>
            </div>
        </header>

        <section class="process-section">
            <h2 class="section-title">Bagaimana Sistem Kami Bekerja</h2>
    
            <div class="process-container">
                <div class="process-card">
                    <div class="icon-circle">
                        ğŸ“¡
                    </div>
                    <h3>1. Sensing (Radar)</h3>
                    <p>Sensor uRAD memancarkan gelombang elektromagnetik (24GHz) ke permukaan air untuk mendeteksi pergerakan menggunakan <strong>Efek Doppler</strong>.</p>
                </div>

                <div class="process-arrow">âœ</div>

                <div class="process-card">
                    <div class="icon-circle">
                        âš™ï¸
                    </div>
                    <h3>2. Signal Processing</h3>
                    <p>Data mentah diproses menggunakan <strong>FFT (Fast Fourier Transform)</strong> untuk mengisolasi kecepatan permukaan air dari noise lingkungan.</p>
                </div>

                <div class="process-arrow">âœ</div>

                <div class="process-card">
                    <div class="icon-circle">
                        ğŸ“Š
                    </div>
                    <h3>3. Monitoring</h3>
                    <p>Data kecepatan dikonversi menjadi debit air (Q = V x A) dan ditampilkan secara Real-Time pada dashboard ini.</p>
                </div>
            </div>
        </section>

        <section class="cta-section">
            <div class="cta-content">
                <p data-i18n="cta_text">Ingin mengetahui detail teknis tentang pengolahan sinyal radar dan FFT?</p>
                <a href="visualization.html" class="cta-link" data-i18n="cta_btn">
                    Ketuk Pelajari Selengkapnya &rarr;
                </a>
            </div>
        </section>

        <h2 class="section-title" style="margin-top: 40px;">Dasbor Langsung</h2>

        <section class="stats-grid">
            <div class="card status-card">
                <h3 data-i18n="status_title">Status Terkini</h3>
                <div id="latest-status" class="status-value" data-i18n="status_loading">Memuat data...</div>
                <div class="status-indicator"><span class="dot"></span> Live</div>
            </div>
            
            <div class="card map-card">
                <h3 data-i18n="map_title">Lokasi Sungai</h3>
                <div id="map" style="height: 400px; width: 100%; z-index: 1; position: relative;"></div>
            </div>
        </section>

        <section class="charts-grid">
            <div class="card chart-card">
                <h3 data-i18n="chart_vel_title">Grafik Kecepatan (1 Jam Terakhir)</h3>
                <div class="chart-container">
                    <canvas id="velocityChart"></canvas>
                </div>
            </div>
            <div class="card chart-card">
                <h3 data-i18n="chart_dis_title">Grafik Debit (1 Jam Terakhir)</h3>
                <div class="chart-container">
                    <canvas id="dischargeChart"></canvas>
                </div>
            </div>
        </section>

    </div>

    <footer>
        <p>Â© 2025 River Monitoring System</p>
    </footer>

    <script type="module" src="js/main.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>

    <script type="module" src="js/main.js"></script>
</body>
</html>